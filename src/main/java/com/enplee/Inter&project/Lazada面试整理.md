### Lazada面试整理

#### 基础知识
+ 简述一下java集合的基本组织结构
```java

```
+ ==和equals()的对比,对应在String中和Enumerate中

```
== 比较地址
equals() 模式使用==,可以通过重写比较内容
String的equals重写的方法,用来比较两个字符串内容是否相同。
Enumerate是由jvm保证的单例的,所以比较Enumerate只能比较对象地址,equals也是调用了==
```

```
枚举类型,正常来说对象是不可枚举的,我们可以无限的通过构造器进行new.但是存在一些类型的对象,变化是有限的,可以通过枚举的方式枚举出所有的情况.jdk就提供了生成枚举类型的方式.在枚举类型中,所有的实例都是有限个数而且单例的。
```

+ 在CPU密集和IO密集性任务中,对线程池的设计(Netty中默认线程数)

```
计算计算线程数公式:
	T = n_cpu * m * (1 + use/use+idel)
CPU密集任务中,线程一直在工作,就尽量减少cpu线程的切换成本。
	T_cpu = n_cpu * 1 * (1+0) = n_cpu 出于经验考虑T_cpu = n_cpu+1
IO密集任务中,线程大部分时间在等待io,所有可以多分配线程。
	T_io = n_cpu * 1 * (1+1) = 2 * n_cpu
```

+ Zookeeper在CAP中是ap还是cp? 分析一下。

#### 项目经历

+ url链接提取项目中,有做过哪些优化?
+ 短链有了解过吗,url链接提取有考虑到短链特殊处理么。

```
https://www.zhihu.com/question/29270034/answer/46446911 短链系统是如何设计的
对于短链的风险检测是存在问题的:
1. 处理短链实际上就是多余短链的重定向301进行处理
2. 在运营那一端口进行人工审核兜底
```

```
短链的意义: url长度在某些场景下受到了限制,可编辑受限,识别长链问题,转换成二维码难以识别。
基本过程:
	1. 生成长链的key,短链服务地址+key
	2. 访问短链提供地址+key,短链提供地址索引长链并重定向,302或者301.
301:永久重定向,浏览器会缓存定向之后的ip,之后访问直接访问ip,节省访问开销。
302:临时重定向,每次都都要请求两次,但是可以做短链的流量统计。
短链生成方式:
	1. hash+布隆过滤器 murmurHash(redis,google使用)
	2. 自增id发号器
```

+ 对于重定向链接,项目中是怎么针对性处理的。

```
参见博客: 进行一次访问,如果发生重定向,终止重定向,之后进行判断resp的状态码是200还是301/302。如果是302、301则通过resp.location()获取到最终的地址。
```

